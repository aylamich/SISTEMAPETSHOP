<!DOCTYPE html>
<html lang="pt">

<script>
    function salvarAnimal() {

        // Obter os valores dos campos
        const nome = document.getElementById('nome').value;
        const tipo = document.getElementById('tipo').value;
        const porte = document.getElementById('porte').value;
        const sexo = document.getElementById('sexo').value;
        const cor = document.getElementById('cor').value;
        const obs = document.getElementById('obs').value;

        console.log(nome, tipo, porte, sexo, cor, obs);

       
        // Enviar os dados para a API
               
        fetch('/api/cadastroanimal', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ nome, tipo, porte, sexo, cor, obs })
        })
            .then(response => response.json())
            .then(data => {
            // Redirecionar para a página de consulta
            window.location.href = '/consultaanimal.html';
            })
            .catch(error => console.error('Erro:', error));

    }
    document.getElementById('chamarApi').addEventListener('click', () => {
      // Fazer a chamada à API usando fetch
      fetch('/api/mensagem')
        .then(response => response.json())
        .then(data => {
          // Mostrar a resposta no parágrafo
          document.getElementById('resposta').innerText = data.mensagem;
        })
        .catch(error => console.error('Erro:', error));
    });
</script>



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro Clientes</title>
    <link rel="stylesheet" href="cadastroanimal.css">
</head>
<body>
    <div class="navbar">
        <a href="funcionario.html">Home</a>
        <a href="consultacliente.html">Cliente</a>
        <a href="consultaanimal.html">Animal</a>
        <a href="agenda.html">Agenda</a>
    </div>

    <h1>ANIMAIS</h1>

    <div class="container">
        <div class="form-box">
            <h2>Cadastro de Animal</h2>
            <form>
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome">

                <label for="tipo">Tipo:</label>
                <select id="tipo" name="tipo">
                    <option value="" selected>Selecione uma opção</option>
                    <option value="Cachorro">Cachorro</option>
                    <option value="Gato">Gato</option>
                    <option value="Ave">Ave</option>
                    <option value="Outros">Outros</option>
                </select>

                <label for="porte">Porte:</label>
                <select id="porte" name="porte">
                    <option value="" selected>Selecione uma opção</option>
                    <option value="Pequeno">Pequeno</option>
                    <option value="Grande">Grande</option>
                    <option value="Medio">Médio</option>
                </select>
<br/><br/>
                    <label for="sexo">Sexo:</label>
                    <select id="sexo" name="sexo">
                        <option value="" selected>Selecione uma opção</option>
                        <option value="Macho">Macho</option>
                        <option value="Femea">Fêmea</option>
                    </select>
<br/><br/>                    

                <label for="cor">Cor:</label>
                <input type="text" id="cor" name="cor">

                <label for="obs">Observações gerais:</label>
                <textarea id="obs" name="obs"></textarea>
                <br/>

                <button onclick="salvarAnimal()">Salvar</button><button type="reset" onclick="window.location.href='consultaanimal.html'">Cancelar</button>
                
            </form>
        </div>
    </div>
</body>
</html>